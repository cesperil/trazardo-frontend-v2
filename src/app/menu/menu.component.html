<nav class="menu">
  <div class="menu-left">
    <div class="menu-icon" (click)="onIconClick()">
      <img src="assets/trazardo_icono.png" alt="Trazardo Logo" class="menu-logo">
    </div>

    <!-- Hamburger Button (Mobile Only) -->
    <button class="hamburger-btn" (click)="toggleMobileMenu()" aria-label="Toggle menu"
      [class.active]="isMobileMenuOpen">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <div class="menu-links-container" [class.open]="isMobileMenuOpen">
    <ul class="menu-links">
      <!-- Dropdown Administración -->
      <li *ngIf="isAdmin" class="dropdown-wrapper" (mouseenter)="openDropdown()" (mouseleave)="closeDropdown()">
        <button class="dropdown-trigger" (click)="toggleDropdown($event)" [class.active]="isDropdownActive()">
          Administración
          <span class="arrow">▼</span>
        </button>

        <div class="dropdown-content" [class.show]="isDropdownOpen">
          <a routerLink="/gestion-usuarios" routerLinkActive="active" (click)="closeMobileMenu()">Usuarios</a>
          <a routerLink="/gestion-tecnicos" routerLinkActive="active" (click)="closeMobileMenu()">Técnicos</a>
          <a routerLink="/gestion-explotaciones" routerLinkActive="active" (click)="closeMobileMenu()">Explotaciones</a>
          <a routerLink="/gestion-ganaderos" routerLinkActive="active" (click)="closeMobileMenu()">Ganaderos</a>
          <a routerLink="/maestros/establecimientos" routerLinkActive="active"
            (click)="closeMobileMenu()">Establecimientos</a>
          <a routerLink="/maestros/consignatarias" routerLinkActive="active"
            (click)="closeMobileMenu()">Consignatarias</a>
        </div>
      </li>

      <li *ngIf="isAdmin" class="link-wrapper">
        <a routerLink="/gestion-lotes-admin" routerLinkActive="active" (click)="closeMobileMenu()">Lotes</a>
      </li>

      <!-- Mobile only logout -->
      <li class="mobile-only">
        <button class="logout-link-mobile" type="button" (click)="logout()">Cerrar sesión</button>
      </li>
    </ul>
  </div>

  <div class="menu-right desktop-only">
    <button class="logout-link" type="button" (click)="logout()" aria-label="Cerrar sesión">
      Cerrar sesión
    </button>
  </div>
</nav>